<script src="data.js"></script>
<style>
    body{
        text-align: center;
    }
    .bar{
        display: inline-block;
        margin: 1vw;
    }
    .block{
        width:10vw;
        height:10vh;
        border: 1px solid black;
        margin: 1vw;
    }
</style>
<body></body>
<script>

    function subtotal(subtotal){
        const div = document.createElement("div");
        div.classList.add("subtotal");
        div.innerHTML = subtotal;
        return div;
    }
    function block(p){
        const div = document.createElement("div");
        div.classList.add("block");
        div.innerHTML = `${p.id}(${p.value})`;
        return div;
    }
    function bar(d){
        const bar = document.createElement("div");
        bar.classList.add("bar");
        d.products.forEach(p=>bar.appendChild(block(p)))
        bar.appendChild(subtotal(d.subtotal));
        return bar;
    }

    function chart(data) {
        const div = document.createElement("div");
        div.classList.add("chart");
        data.forEach(d=> div.appendChild(bar(d)));
        return div;
    }

    document.body.appendChild(chart(context));

</script>